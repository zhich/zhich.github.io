<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="uhuV0rnYMUWuzeZrPSHxh_QSZ6tM5AWsUD-fXyEVOOc">
  <meta name="baidu-site-verification" content="codeva-jBfPQBw271">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-mac-osx.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhich.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":true,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"giscus","storage":true,"lazyload":true,"nav":null},"stickytabs":true,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js"></script>

    <meta name="description" content="本笔记整理自大地老师的 Dart 笔记，同时加入了自己写的一些测试例子。  环境搭建要在我们本地开发 Dart 程序的话首先需要安装 Dart SDK 官方文档：https:&#x2F;&#x2F;dart.dev&#x2F;get-dart 1234567891011windows(推荐):  http:&#x2F;&#x2F;www.gekorm.com&#x2F;dart-windows&#x2F;mac：  如果 mac 电脑没有安装 brew">
<meta property="og:type" content="blog">
<meta property="og:title" content="Dart 学习笔记">
<meta property="og:url" content="https://zhich.github.io/2020/12/30/Dart-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="明年今日">
<meta property="og:description" content="本笔记整理自大地老师的 Dart 笔记，同时加入了自己写的一些测试例子。  环境搭建要在我们本地开发 Dart 程序的话首先需要安装 Dart SDK 官方文档：https:&#x2F;&#x2F;dart.dev&#x2F;get-dart 1234567891011windows(推荐):  http:&#x2F;&#x2F;www.gekorm.com&#x2F;dart-windows&#x2F;mac：  如果 mac 电脑没有安装 brew">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-12-30T07:56:00.000Z">
<meta property="article:modified_time" content="2024-06-03T14:53:51.435Z">
<meta property="article:author" content="明年今日">
<meta property="article:tag" content="Dart">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://zhich.github.io/2020/12/30/Dart-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://zhich.github.io/2020/12/30/Dart-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","path":"2020/12/30/Dart-学习笔记/","title":"Dart 学习笔记"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Dart 学习笔记 | 明年今日</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">明年今日</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-globe fa-fw fa-fw"></i>links</a></li><li class="menu-item menu-item-happy"><a href="/happy/" rel="section"><i class="fa fa-th fa-fw"></i>happy</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">1.</span> <span class="nav-text">环境搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7"><span class="nav-number">2.</span> <span class="nav-text">开发工具</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">3.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F"><span class="nav-number">4.</span> <span class="nav-text">常量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">5.</span> <span class="nav-text">常用数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">6.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">7.</span> <span class="nav-text">条件表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">8.</span> <span class="nav-text">类型转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="nav-number">9.</span> <span class="nav-text">循环语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="nav-number">10.</span> <span class="nav-text">集合类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#List"><span class="nav-number">10.1.</span> <span class="nav-text">List</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Set"><span class="nav-number">10.2.</span> <span class="nav-text">Set</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map"><span class="nav-number">10.3.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9B%86%E5%90%88%E7%9A%84-forEach%E3%80%81map%E3%80%81where%E3%80%81any%E3%80%81every-%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8"><span class="nav-number">10.4.</span> <span class="nav-text">集合的 forEach、map、where、any、every 方法使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">11.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">11.1.</span> <span class="nav-text">函数定义、作用域</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E4%BC%A0%E5%8F%82%E3%80%81%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E3%80%81%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0%E3%80%81%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0"><span class="nav-number">11.2.</span> <span class="nav-text">函数传参、默认参数、可选参数、命名参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E3%80%81%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E3%80%81%E8%87%AA%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95%E3%80%81%E6%96%B9%E6%B3%95%E9%80%92%E5%BD%92"><span class="nav-number">11.3.</span> <span class="nav-text">箭头函数、匿名函数、自执行方法、方法递归</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AD%E5%8C%85"><span class="nav-number">11.4.</span> <span class="nav-text">闭包</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="nav-number">12.</span> <span class="nav-text">类与对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="nav-number">12.1.</span> <span class="nav-text">面向对象的介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">12.2.</span> <span class="nav-text">类与对象的基本使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E4%B8%AD%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8"><span class="nav-number">12.3.</span> <span class="nav-text">类中的初始化列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F%E4%B8%8E%E9%9D%99%E6%80%81%E5%87%BD%E6%95%B0"><span class="nav-number">12.4.</span> <span class="nav-text">类的静态变量与静态函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">12.5.</span> <span class="nav-text">对象操作符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="nav-number">12.6.</span> <span class="nav-text">类的继承</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">12.7.</span> <span class="nav-text">抽象类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-number">12.8.</span> <span class="nav-text">多态</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-number">13.</span> <span class="nav-text">接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mixins"><span class="nav-number">14.</span> <span class="nav-text">mixins</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B"><span class="nav-number">15.</span> <span class="nav-text">泛型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="nav-number">15.1.</span> <span class="nav-text">泛型方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="nav-number">15.2.</span> <span class="nav-text">泛型类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="nav-number">16.</span> <span class="nav-text">泛型接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%93"><span class="nav-number">17.</span> <span class="nav-text">库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E8%87%AA%E5%B7%B1%E6%9C%AC%E5%9C%B0%E5%BA%93"><span class="nav-number">17.1.</span> <span class="nav-text">导入自己本地库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E7%B3%BB%E7%BB%9F%E5%86%85%E7%BD%AE%E5%BA%93"><span class="nav-number">17.2.</span> <span class="nav-text">导入系统内置库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E7%B3%BB%E7%BB%9F%E5%86%85%E7%BD%AE%E5%BA%93%E5%AE%9E%E7%8E%B0%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="nav-number">17.3.</span> <span class="nav-text">导入系统内置库实现请求数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#async-%E5%92%8C-await"><span class="nav-number">17.4.</span> <span class="nav-text">async 和 await</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5-pub-%E5%8C%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E5%BA%93"><span class="nav-number">17.5.</span> <span class="nav-text">导入 pub 包管理系统中的库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%93%E9%87%8D%E5%91%BD%E5%90%8D%E4%B8%8E%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3"><span class="nav-number">17.6.</span> <span class="nav-text">库重命名与冲突解决</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%83%A8%E5%88%86%E5%AF%BC%E5%85%A5"><span class="nav-number">17.7.</span> <span class="nav-text">部分导入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD"><span class="nav-number">17.8.</span> <span class="nav-text">延迟加载</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-13-%E4%B9%8B%E5%90%8E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B0%E7%89%B9%E6%80%A7"><span class="nav-number">18.</span> <span class="nav-text">2.13 之后的一些新特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Null-safety"><span class="nav-number">18.1.</span> <span class="nav-text">Null safety</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#late-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">18.2.</span> <span class="nav-text">late 关键字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#required-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">18.3.</span> <span class="nav-text">required 关键字</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="nav-number">19.</span> <span class="nav-text">性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9E%E9%A1%BE-Dart-%E5%B8%B8%E9%87%8F"><span class="nav-number">19.1.</span> <span class="nav-text">回顾 Dart 常量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#const%E3%80%81identical-%E5%87%BD%E6%95%B0"><span class="nav-number">19.2.</span> <span class="nav-text">const、identical 函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-number">19.3.</span> <span class="nav-text">普通构造函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E9%87%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-number">19.4.</span> <span class="nav-text">常量构造函数</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="明年今日"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">明年今日</p>
  <div class="site-description" itemprop="description">终身学习者。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3poaWNo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhich"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnpoaWNoMTEyMTM0QGdtYWlsLmNvbQ==" title="E-Mail → mailto:zhich112134@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhich.github.io/2020/12/30/Dart-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="明年今日">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="明年今日">
      <meta itemprop="description" content="终身学习者。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Dart 学习笔记 | 明年今日">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Dart 学习笔记
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-12-30 15:56:00" itemprop="dateCreated datePublished" datetime="2020-12-30T15:56:00+08:00">2020-12-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2024-06-03 22:53:51" itemprop="dateModified" datetime="2024-06-03T22:53:51+08:00">2024-06-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Dart/" itemprop="url" rel="index"><span itemprop="name">Dart</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><meta name="referrer" content="no-referrer">





<blockquote>
<p>本笔记整理自大地老师的 Dart 笔记，同时加入了自己写的一些测试例子。</p>
</blockquote>
<h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><p>要在我们本地开发 Dart 程序的话首先需要安装 Dart SDK</p>
<p>官方文档：<span class="exturl" data-url="aHR0cHM6Ly9kYXJ0LmRldi9nZXQtZGFydA==">https://dart.dev/get-dart<i class="fa fa-external-link-alt"></i></span></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">windows(推荐):</span><br><span class="line"></span><br><span class="line">  http:<span class="comment">//www.gekorm.com/dart-windows/</span></span><br><span class="line"></span><br><span class="line">mac：</span><br><span class="line"></span><br><span class="line">  如果 mac 电脑没有安装 brew 这个工具首先第一步需要安装它： https:<span class="comment">//brew.sh/</span></span><br><span class="line"></span><br><span class="line">  brew tap dart-lang/dart</span><br><span class="line">    </span><br><span class="line">  brew install dart</span><br></pre></td></tr></table></figure>

<h3 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Dart 的开发工具有很多： IntelliJ IDEA  、 WebStorm、 Atom、Vscode 等</span><br><span class="line"></span><br><span class="line">这里我们主要给大家讲解的是如果在 vscode 中配置 Dart。</span><br><span class="line">    </span><br><span class="line"><span class="number">1</span>、找到 vscode 插件安装 Dart</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、找到 vscode 插件安装 code runner, Code Runner 可以运行我们的文件</span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>Dart 中定义变量可以使用具体的类型（int、double、String、bool 等）申明 ，也可以通过 var 关键字来申明变量。</p>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><blockquote>
<p>final 和 const 修饰符都可以表示常量。</p>
</blockquote>
<ul>
<li>const 值不变，一开始就得赋值。</li>
<li>final 可以开始不赋值，只能赋一次。而 final 不仅有 const 的编译时常量的特性，最重要的它是运行时常量，并且 final 是惰性初始化，即在运行时第一次使用前才初始化。</li>
<li>注意：永远不改变的量，请使用 final 或 const 修饰它，而不是使用 var 或其他变量类型。<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">const</span> PI = <span class="number">3.14159</span>;</span><br><span class="line">  <span class="comment">// PI = 3.14; // 报错</span></span><br><span class="line">  <span class="built_in">print</span>(PI);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// const x = new DateTime.now(); // 报错</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="comment">// a = 2; // 报错</span></span><br><span class="line">  <span class="built_in">print</span>(a);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> time = <span class="keyword">new</span> <span class="built_in">DateTime</span>.now();</span><br><span class="line">  <span class="built_in">print</span>(time);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="常用数据类型"><a href="#常用数据类型" class="headerlink" title="常用数据类型"></a>常用数据类型</h3><p>Dart 中支持以下常用数据类型：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Numbers（数值）</span><br><span class="line">    <span class="built_in">int</span></span><br><span class="line">    <span class="built_in">double</span></span><br><span class="line">Strings（字符串）</span><br><span class="line">    <span class="built_in">String</span></span><br><span class="line">Booleans(布尔)</span><br><span class="line">    <span class="built_in">bool</span></span><br><span class="line"><span class="built_in">List</span>（数组）</span><br><span class="line">    在 Dart 中，数组是列表对象，所以大多数人只是称它们为列表</span><br><span class="line">Maps（字典）</span><br><span class="line">    通常来说，<span class="built_in">Map</span> 是一个键值对相关的对象。键和值可以是任何类型的对象。每个键只出现一次，而一个值则可以出现多次</span><br></pre></td></tr></table></figure>

<p>基本使用：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、字符串类型（String）</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> str1 = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">  <span class="built_in">String</span> str2 = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$str1</span> <span class="subst">$str2</span>&quot;</span>); <span class="comment">// 字符串拼接</span></span><br><span class="line">  <span class="built_in">print</span>(str1 + <span class="string">&quot; &quot;</span> + str2); <span class="comment">// 字符串拼接</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 三个单引号或三个双引号，让字符串原样输出</span></span><br><span class="line">  <span class="keyword">var</span> str3 = <span class="string">&#x27;&#x27;&#x27;Hello</span></span><br><span class="line"><span class="string">                World&#x27;&#x27;&#x27;</span>;</span><br><span class="line">  <span class="built_in">print</span>(str3);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、数值类型（int、double）</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">int</span> x = <span class="number">1</span>; <span class="comment">// 必须为整型</span></span><br><span class="line">  x = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">print</span>(x);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">double</span> d = <span class="number">99.9</span>; <span class="comment">// 整型或浮点型</span></span><br><span class="line">  d = <span class="number">100</span>;</span><br><span class="line">  <span class="built_in">print</span>(d);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、布尔类型（bool）</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;真&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;假&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 4、List（数组/集合）</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="comment">// 第一种定义方式</span></span><br><span class="line">  <span class="keyword">var</span> list1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">  <span class="built_in">print</span>(list1);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 第二种定义方式</span></span><br><span class="line">  <span class="keyword">var</span> list2 = <span class="keyword">new</span> <span class="built_in">List</span>();</span><br><span class="line">  list2.add(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">  list2.add(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">  list2.add(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">  <span class="built_in">print</span>(list2);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 定义 List 时指定类型</span></span><br><span class="line">  <span class="keyword">var</span> list3 = <span class="keyword">new</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">  <span class="comment">// list3.add(1); // 错误</span></span><br><span class="line">  list3.add(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">  <span class="built_in">print</span>(list3);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 5、Maps（字典）</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="comment">// 第一种定义方式</span></span><br><span class="line">  <span class="keyword">var</span> person1 = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="string">&quot;work&quot;</span>: [<span class="string">&quot;程序员&quot;</span>, <span class="string">&quot;送外卖&quot;</span>]</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">print</span>(person1);</span><br><span class="line">  <span class="built_in">print</span>(person1[<span class="string">&quot;name&quot;</span>]);</span><br><span class="line">  <span class="built_in">print</span>(person1[<span class="string">&quot;work&quot;</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 第二种定义方式</span></span><br><span class="line">  <span class="keyword">var</span> person2 = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  person2[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">  person2[<span class="string">&quot;age&quot;</span>] = <span class="number">21</span>;</span><br><span class="line">  person2[<span class="string">&quot;work&quot;</span>] = [<span class="string">&quot;程序员&quot;</span>, <span class="string">&quot;送外卖&quot;</span>];</span><br><span class="line">  <span class="built_in">print</span>(person2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 <code>is</code> 关键词来判断类型</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">123</span>;</span><br><span class="line">  <span class="keyword">if</span> (x <span class="keyword">is</span> <span class="built_in">String</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;是 String 类型&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x <span class="keyword">is</span> <span class="built_in">int</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;是 int 类型&#x27;</span>); <span class="comment">// 执行这里</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;是其他类型&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>Dart 运算符</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">算术运算符</span><br><span class="line"></span><br><span class="line">    +    -    *    /     ~/ (取整)     %（取余）</span><br><span class="line">    </span><br><span class="line">关系运算符</span><br><span class="line"></span><br><span class="line">    ==    ！=   &gt;    &lt;    &gt;=    &lt;=</span><br><span class="line"></span><br><span class="line">逻辑运算符</span><br><span class="line"></span><br><span class="line">    !  &amp;&amp;   ||</span><br><span class="line"></span><br><span class="line">赋值运算符</span><br><span class="line"></span><br><span class="line">    基础赋值运算符   =   ??=</span><br><span class="line">    复合赋值运算符   +=  -=  *=   /=   %=  ~/=</span><br></pre></td></tr></table></figure>

<p>基本使用：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、算术运算符</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> y = <span class="number">3</span>;</span><br><span class="line">  <span class="built_in">print</span>(x / y); <span class="comment">// 3.3333333333333335</span></span><br><span class="line">  <span class="built_in">print</span>(x ~/ y); <span class="comment">// 3</span></span><br><span class="line">  <span class="built_in">print</span>(x % y); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、关系运算符</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">123</span>;</span><br><span class="line">  <span class="keyword">var</span> c = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> d = <span class="number">123.0</span>;</span><br><span class="line">  <span class="keyword">if</span> (a == b) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a 等于 b&#x27;</span>); <span class="comment">// 执行</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (a == c) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a 等于 c&#x27;</span>); <span class="comment">// 不执行</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (a == d) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a 等于 d&#x27;</span>); <span class="comment">// 执行</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、逻辑运算符</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">false</span>;</span><br><span class="line">  <span class="built_in">print</span>(!flag); <span class="comment">// true（取反）</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 4、基础赋值运算符（=   ??=）</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">int</span> aa = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">int</span> bb;</span><br><span class="line">  aa ??= <span class="number">100</span>;</span><br><span class="line">  bb ??= <span class="number">200</span>; <span class="comment">// 因为 b 为空，所以重新赋值</span></span><br><span class="line">  <span class="built_in">print</span>(aa); <span class="comment">// 10</span></span><br><span class="line">  <span class="built_in">print</span>(bb); <span class="comment">// 200</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 5、复合赋值运算符   +=  -=  <span class="emphasis">*=   /=   %=  ~/=</span></span></span></span><br><span class="line"><span class="emphasis"><span class="language-markdown"><span class="comment">   *</span>/</span></span></span><br><span class="line">  <span class="built_in">int</span> xx = <span class="number">10</span>;</span><br><span class="line">  xx += <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">print</span>(xx); <span class="comment">// 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、if else / switch case</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;false&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> sex = <span class="string">&quot;女&quot;</span>;</span><br><span class="line">  <span class="keyword">switch</span> (sex) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;男&quot;</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;男&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;女&quot;</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;女&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;不男不女&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、三目运算符</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">String</span> s = flag ? <span class="string">&quot;我是 true&quot;</span> : <span class="string">&quot;我是 false&quot;</span>;</span><br><span class="line">  <span class="built_in">print</span>(s);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、?? 运算符</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">var</span> b = a ?? <span class="number">30</span>;</span><br><span class="line">  <span class="built_in">print</span>(b); <span class="comment">// 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、Number 与 String 类型之间的转换</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">int</span> <span class="built_in">num</span> = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">double</span> d = <span class="number">30.0</span>;</span><br><span class="line">  <span class="built_in">String</span> str = <span class="string">&quot;50&quot;</span>;</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">num</span>.toString()); <span class="comment">// 20</span></span><br><span class="line">  <span class="built_in">print</span>(d.toString()); <span class="comment">// 30.0</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">int</span>.parse(str)); <span class="comment">// 50</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">double</span>.parse(str)); <span class="comment">// 50.0</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">int</span>.tryParse(<span class="string">&quot;100a&quot;</span>)); <span class="comment">// null</span></span><br><span class="line">  <span class="comment">// print(int.parse(&quot;100a&quot;)); // 报错</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> myNum = <span class="built_in">double</span>.parse(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(myNum);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">print</span>(err); <span class="comment">// FormatException: Invalid double</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、其他类型转换成 Booleans 类型</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> myStr = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (myStr.isEmpty) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;myStr 为空&#x27;</span>); <span class="comment">// 执行</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;myStr 不为空&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> myStr2;</span><br><span class="line">  <span class="keyword">if</span> (myStr2 == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;myStr2 为空&#x27;</span>); <span class="comment">// 执行</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;myStr2 不为空&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">0</span> / <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">print</span>(x); <span class="comment">// NaN</span></span><br><span class="line">  <span class="keyword">if</span> (x.isNaN) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;x is NaN&quot;</span>); <span class="comment">// 执行</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、++  --   表示自增 自减 1</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 在赋值运算里面，如果 ++ -- 写在前面，先运算后赋值，如果 ++ -- 写在后面，先赋值后运算</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> b = a--;</span><br><span class="line">  <span class="built_in">print</span>(a); <span class="comment">// 9</span></span><br><span class="line">  <span class="built_in">print</span>(b); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> aa = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">var</span> bb = --aa;</span><br><span class="line">  <span class="built_in">print</span>(aa); <span class="comment">// 99</span></span><br><span class="line">  <span class="built_in">print</span>(bb); <span class="comment">// 99</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、for 语句</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> list = [<span class="string">&#x27;新闻0&#x27;</span>, <span class="string">&#x27;新闻1&#x27;</span>, <span class="string">&#x27;新闻2&#x27;</span>, <span class="string">&#x27;新闻3&#x27;</span>, <span class="string">&#x27;新闻4&#x27;</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">print</span>(list[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、while / do while</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (i &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">    sum += i;</span><br><span class="line">    i++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">print</span>(sum); <span class="comment">// 5050</span></span><br><span class="line"></span><br><span class="line">  i = <span class="number">1</span>;</span><br><span class="line">  sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    sum += i;</span><br><span class="line">    i++;</span><br><span class="line">  &#125; <span class="keyword">while</span> (i &lt;= <span class="number">100</span>);</span><br><span class="line">  <span class="built_in">print</span>(sum); <span class="comment">// 5050</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 4、break / continue</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">3</span>) &#123;</span><br><span class="line">      <span class="keyword">break</span>; <span class="comment">// 结束当前循环体</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum += i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">print</span>(sum); <span class="comment">// 1 + 2 + 3 = 6</span></span><br><span class="line"></span><br><span class="line">  sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">continue</span>; <span class="comment">// 本次循环跳过下面代码</span></span><br><span class="line">    &#125;</span><br><span class="line">    sum += i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">print</span>(sum); <span class="comment">// 1 + 3 = 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="集合类型"><a href="#集合类型" class="headerlink" title="集合类型"></a>集合类型</h3><h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    List 里面常用的属性和方法：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    常用属性：</span></span><br><span class="line"><span class="comment">        length          长度</span></span><br><span class="line"><span class="comment">        reversed        翻转</span></span><br><span class="line"><span class="comment">        isEmpty         是否为空</span></span><br><span class="line"><span class="comment">        isNotEmpty      是否不为空</span></span><br><span class="line"><span class="comment">    常用方法：  </span></span><br><span class="line"><span class="comment">        add         增加</span></span><br><span class="line"><span class="comment">        addAll      拼接数组</span></span><br><span class="line"><span class="comment">        indexOf     查找  传入具体值</span></span><br><span class="line"><span class="comment">        remove      删除  传入具体值</span></span><br><span class="line"><span class="comment">        removeAt    删除  传入索引值</span></span><br><span class="line"><span class="comment">        fillRange   修改   </span></span><br><span class="line"><span class="comment">        insert(index,value);            指定位置插入    </span></span><br><span class="line"><span class="comment">        insertAll(index,list)           指定位置插入 List</span></span><br><span class="line"><span class="comment">        toList()    其他类型转换成 List</span></span><br><span class="line"><span class="comment">        join()      List 转换成字符串</span></span><br><span class="line"><span class="comment">        split()     字符串转化成 List</span></span><br><span class="line"><span class="comment">        forEach   </span></span><br><span class="line"><span class="comment">        map</span></span><br><span class="line"><span class="comment">        where</span></span><br><span class="line"><span class="comment">        any</span></span><br><span class="line"><span class="comment">        every</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="built_in">List</span> myList = [<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>, <span class="string">&#x27;CC&#x27;</span>];</span><br><span class="line">  myList.add(<span class="string">&#x27;DD&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> newList = myList.reversed.toList();</span><br><span class="line">  <span class="built_in">print</span>(newList); <span class="comment">// [DD, CC, BB, AA]</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// myList.fillRange(1, 3, &#x27;aaa&#x27;);</span></span><br><span class="line">  <span class="comment">// print(myList); // [AA, aaa, aaa, DD]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> str = myList.join(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">  <span class="built_in">print</span>(str); <span class="comment">// AA-BB-CC-DD</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> Set</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、用它最主要的功能就是去除数组重复内容；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、Set 是没有顺序且不能重复的集合，所以不能通过索引去获取值；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> <span class="keyword">set</span> = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">  <span class="keyword">set</span>.add(<span class="string">&#x27;AA&#x27;</span>);</span><br><span class="line">  <span class="keyword">set</span>.add(<span class="string">&#x27;BB&#x27;</span>);</span><br><span class="line">  <span class="keyword">set</span>.add(<span class="string">&#x27;AA&#x27;</span>);</span><br><span class="line">  <span class="built_in">print</span>(<span class="keyword">set</span>); <span class="comment">// &#123;AA, BB&#125;</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="keyword">set</span>.toList()); <span class="comment">// [AA, BB]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> myList = [<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>, <span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;CC&#x27;</span>, <span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>];</span><br><span class="line">  <span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">  mySet.addAll(myList);</span><br><span class="line">  <span class="built_in">print</span>(mySet); <span class="comment">// &#123;AA, BB, CC&#125;</span></span><br><span class="line">  <span class="built_in">print</span>(mySet.toList()); <span class="comment">// [AA, BB, CC]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    映射（Maps）是无序的键值对：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    常用属性：</span></span><br><span class="line"><span class="comment">        keys            获取所有的 key 值</span></span><br><span class="line"><span class="comment">        values          获取所有的 value 值</span></span><br><span class="line"><span class="comment">        isEmpty         是否为空</span></span><br><span class="line"><span class="comment">        isNotEmpty      是否不为空</span></span><br><span class="line"><span class="comment">    常用方法:</span></span><br><span class="line"><span class="comment">        remove(key)     删除指定 key 的数据</span></span><br><span class="line"><span class="comment">        addAll(&#123;...&#125;)   合并映射  给映射内增加属性</span></span><br><span class="line"><span class="comment">        containsValue   查看映射内的值  返回 true/false</span></span><br><span class="line"><span class="comment">        forEach   </span></span><br><span class="line"><span class="comment">        map</span></span><br><span class="line"><span class="comment">        where</span></span><br><span class="line"><span class="comment">        any</span></span><br><span class="line"><span class="comment">        every</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="built_in">Map</span> zhangSan = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;;</span><br><span class="line">  <span class="keyword">var</span> liSi = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  liSi[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;李四&quot;</span>;</span><br><span class="line">  liSi[<span class="string">&quot;age&quot;</span>] = <span class="number">21</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(zhangSan.keys.toList()); <span class="comment">// [name, age]</span></span><br><span class="line">  <span class="built_in">print</span>(zhangSan.values.toList()); <span class="comment">// [张三, 20]</span></span><br><span class="line"></span><br><span class="line">  zhangSan.addAll(&#123;</span><br><span class="line">    <span class="string">&quot;sex&quot;</span>: <span class="string">&quot;男&quot;</span>,</span><br><span class="line">    <span class="string">&quot;work&quot;</span>: [<span class="string">&#x27;敲代码&#x27;</span>, <span class="string">&#x27;送外卖&#x27;</span>]</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(zhangSan); <span class="comment">// &#123;name: 张三, age: 20, sex: 男, work: [敲代码, 送外卖]&#125;</span></span><br><span class="line"></span><br><span class="line">  zhangSan.remove(<span class="string">&quot;sex&quot;</span>);</span><br><span class="line">  <span class="built_in">print</span>(zhangSan); <span class="comment">// &#123;name: 张三, age: 20, work: [敲代码, 送外卖]&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="集合的-forEach、map、where、any、every-方法使用"><a href="#集合的-forEach、map、where、any、every-方法使用" class="headerlink" title="集合的 forEach、map、where、any、every 方法使用"></a>集合的 forEach、map、where、any、every 方法使用</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> List</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> list = [<span class="string">&#x27;AA&#x27;</span>, <span class="string">&#x27;BB&#x27;</span>, <span class="string">&#x27;CC&#x27;</span>];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">    <span class="built_in">print</span>(list[i]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">in</span> list) &#123;</span><br><span class="line">    <span class="built_in">print</span>(item);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  list.forEach((element) &#123;</span><br><span class="line">    <span class="built_in">print</span>(element);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> myList = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">  <span class="keyword">var</span> newList = myList.map((e) &#123;</span><br><span class="line">    <span class="keyword">return</span> e * <span class="number">2</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(newList.toList()); <span class="comment">// [2, 6, 8]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> newList2 = myList.where((element) &#123;</span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">1</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(newList2.toList()); <span class="comment">// [3, 4]</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> f = myList.any((element) &#123;</span><br><span class="line">    <span class="comment">// 只要集合里面有满足条件的就返回 true</span></span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">3</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(f); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> g = myList.every((element) &#123;</span><br><span class="line">    <span class="comment">// 每一个都满足条件返回 true, 否则返回 false</span></span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">1</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(g); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> Set</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> <span class="keyword">set</span> = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">  <span class="keyword">set</span>.addAll([<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>]);</span><br><span class="line">  <span class="keyword">set</span>.forEach((element) =&gt; <span class="built_in">print</span>(element));</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> Map</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> zhangSan = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;;</span><br><span class="line">  zhangSan.forEach((key, value) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$key</span>---<span class="subst">$value</span>&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="函数定义、作用域"><a href="#函数定义、作用域" class="headerlink" title="函数定义、作用域"></a>函数定义、作用域</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  内置方法/函数：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      print();</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  自定义方法：</span></span><br><span class="line"><span class="comment">      自定义方法的基本格式：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      返回类型  方法名称（参数1，参数2,...）&#123;</span></span><br><span class="line"><span class="comment">        方法体</span></span><br><span class="line"><span class="comment">        return 返回值;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  printInfo(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">  <span class="built_in">int</span> sum = getSum(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">  <span class="built_in">print</span>(sum);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 演示方法的作用域</span></span><br><span class="line">  <span class="keyword">void</span> exec() &#123;</span><br><span class="line">    <span class="keyword">void</span> sayHello() &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sayHello();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  exec(); <span class="comment">// 调用方法</span></span><br><span class="line">  <span class="comment">// sayHello(); // 错误写法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> printInfo(<span class="built_in">String</span> info) &#123;</span><br><span class="line">  <span class="built_in">print</span>(info);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> getSum(<span class="built_in">int</span> a, <span class="built_in">int</span> b) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="函数传参、默认参数、可选参数、命名参数"><a href="#函数传参、默认参数、可选参数、命名参数" class="headerlink" title="函数传参、默认参数、可选参数、命名参数"></a>函数传参、默认参数、可选参数、命名参数</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、基本传参</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> sum = getSum(<span class="number">10</span>);</span><br><span class="line">  <span class="built_in">print</span>(sum); <span class="comment">// 55</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、可选参数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  printUserInfo(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  printUserInfo(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、默认参数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  printUserInfo2(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;女&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  printUserInfo2(<span class="string">&quot;李四&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 4、命名参数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  printUserInfo3(<span class="string">&quot;王五&quot;</span>, sex: <span class="string">&quot;未知&quot;</span>, age: <span class="number">22</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 5、把方法当参数的方法</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  fun2(fun1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> getSum(<span class="built_in">int</span> n) &#123;</span><br><span class="line">  <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    sum += i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> 带可选参数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"><span class="keyword">void</span> printUserInfo(<span class="built_in">String</span> name, [<span class="built_in">int</span> age]) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;姓名：<span class="subst">$name</span>---年龄保密&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;姓名：<span class="subst">$name</span>---年龄：<span class="subst">$age</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> 带默认参数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"><span class="keyword">void</span> printUserInfo2(<span class="built_in">String</span> name, [<span class="built_in">String</span> sex = <span class="string">&#x27;男&#x27;</span>, <span class="built_in">int</span> age]) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;姓名：<span class="subst">$name</span>---性别：<span class="subst">$sex</span>---年龄保密&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;姓名：<span class="subst">$name</span>---性别：<span class="subst">$sex</span>---年龄：<span class="subst">$age</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> 带命名参数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"><span class="keyword">void</span> printUserInfo3(<span class="built_in">String</span> name, &#123;<span class="built_in">String</span> sex = <span class="string">&#x27;男&#x27;</span>, <span class="built_in">int</span> age&#125;) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;姓名：<span class="subst">$name</span>---性别：<span class="subst">$sex</span>---年龄保密&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;姓名：<span class="subst">$name</span>---性别：<span class="subst">$sex</span>---年龄：<span class="subst">$age</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun1() &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;fun1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun2(fn) &#123;</span><br><span class="line">  fn();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="箭头函数、匿名函数、自执行方法、方法递归"><a href="#箭头函数、匿名函数、自执行方法、方法递归" class="headerlink" title="箭头函数、匿名函数、自执行方法、方法递归"></a>箭头函数、匿名函数、自执行方法、方法递归</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、箭头函数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 只能写一行，不能多行。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="built_in">List</span> myList = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">  myList.forEach((element) =&gt; <span class="built_in">print</span>(element));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> newList = myList.map((e) =&gt; e &gt; <span class="number">2</span> ? e * <span class="number">2</span> : e);</span><br><span class="line">  <span class="built_in">print</span>(newList.toList()); <span class="comment">// [1, 6, 8]</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、匿名函数</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> myNum = () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">print</span>(myNum()); <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、自执行方法</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  ((<span class="built_in">int</span> n) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我是自执行方法&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(n * <span class="number">10</span>); <span class="comment">// 180</span></span><br><span class="line">  &#125;)(<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment"><span class="language-markdown"><span class="emphasis">/*</span>*</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 4、方法递归</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> sum = fn(<span class="number">100</span>);</span><br><span class="line">  <span class="built_in">print</span>(sum); <span class="comment">// 5050</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">int</span> fn(<span class="built_in">int</span> n) &#123;</span><br><span class="line">  <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> n + fn(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 全局变量特点：全局变量常驻内存、全局变量污染全局；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 局部变量的特点：不常驻内存会被垃圾机制回收、不会污染全局；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> </span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   * 闭包：</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 1、可以常驻内存，不污染全局；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 2、函数嵌套函数，内部函数会调用外部函数的变量或参数，变量或参数不会被系统回收(不会释放内存)；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet">   *</span> 3、写法：函数嵌套函数，并 return 里面的函数，这样就形成了闭包；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   <span class="emphasis">*/</span></span></span></span><br><span class="line">  <span class="keyword">var</span> f = fn();</span><br><span class="line">  f(); <span class="comment">// 2</span></span><br><span class="line">  f(); <span class="comment">// 3</span></span><br><span class="line">  f(); <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn() &#123;</span><br><span class="line">  <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> () &#123;</span><br><span class="line">    x++;</span><br><span class="line">    <span class="built_in">print</span>(x);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h3><h4 id="面向对象的介绍"><a href="#面向对象的介绍" class="headerlink" title="面向对象的介绍"></a>面向对象的介绍</h4><p>面向对象编程(OOP)的三个基本特征是：封装、继承、多态</p>
<ul>
<li><strong>封装</strong>：封装是对象和类概念的主要特性。封装，把客观事物封装成抽象的类，并且把自己的部分属性和方法提供给其他对象调用, 而一部分属性和方法则隐藏。</li>
<li><strong>继承</strong>：面向对象编程 (OOP) 语言的一个主要功能就是“继承”。继承是指这样一种能力：它可以使用现有类的功能，并在无需重新编写原来的类的情况下对这些功能进行扩展。</li>
<li><strong>多态</strong>：允许将子类类型的指针赋值给父类类型的指针, 同一个函数调用会有不同的执行效果 。</li>
</ul>
<p>Dart 所有的东西都是对象，所有的对象都继承自 Object 类。</p>
<p>Dart 是一门使用类和<strong>单继承</strong>的面向对象语言，所有的对象都是类的实例，并且所有的类都是 Object 的子类</p>
<p>一个类通常由属性和方法组成。</p>
<blockquote>
<p>Dart 和其他面向对象语言不一样，Dart 中没有 public、private、protected 这些访问修饰符，但是我们可以使用 <code>_</code> 把一个属性或者方法定义成私有。</p>
</blockquote>
<h4 id="类与对象的基本使用"><a href="#类与对象的基本使用" class="headerlink" title="类与对象的基本使用"></a>类与对象的基本使用</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> _name; <span class="comment">// 加了下划线表示私有属性</span></span><br><span class="line">  <span class="built_in">int</span> age;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 默认构造函数的简写</span></span><br><span class="line">  Person(<span class="keyword">this</span>._name, <span class="keyword">this</span>.age);</span><br><span class="line"></span><br><span class="line">  Person.now() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;我是命名构造函数&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Person.setInfo(<span class="built_in">String</span> name, <span class="built_in">int</span> age) &#123;</span><br><span class="line">    <span class="keyword">this</span>._name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> printInfo() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>._name&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _sayHello() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;_sayHello 是一个私有方法&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  execRun() &#123;</span><br><span class="line">    <span class="keyword">this</span>._sayHello();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> width;</span><br><span class="line">  <span class="built_in">int</span> height;</span><br><span class="line"></span><br><span class="line">  Rect(<span class="keyword">this</span>.width, <span class="keyword">this</span>.height);</span><br><span class="line"></span><br><span class="line">  getArea() &#123;</span><br><span class="line">    <span class="comment">// 通过方法获取面积</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.width * <span class="keyword">this</span>.height;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> area &#123;</span><br><span class="line">    <span class="comment">// 通过属性获取面积</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.width * <span class="keyword">this</span>.height;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> areaHeight(height) &#123;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Person.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Rect.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  Person p = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  p.printInfo();</span><br><span class="line">  p.execRun();</span><br><span class="line"></span><br><span class="line">  Person p2 = Person.now();</span><br><span class="line"></span><br><span class="line">  Person p3 = Person.setInfo(<span class="string">&quot;李四&quot;</span>, <span class="number">21</span>);</span><br><span class="line">  p3.printInfo();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> r = Rect(<span class="number">10</span>, <span class="number">5</span>);</span><br><span class="line">  <span class="built_in">print</span>(r.getArea()); <span class="comment">// 50</span></span><br><span class="line">  <span class="built_in">print</span>(r.area); <span class="comment">// 50</span></span><br><span class="line"></span><br><span class="line">  r.areaHeight = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">print</span>(r.area); <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类中的初始化列表"><a href="#类中的初始化列表" class="headerlink" title="类中的初始化列表"></a>类中的初始化列表</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rect</span> </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> width;</span><br><span class="line">  <span class="built_in">int</span> height;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 在构造函数体运行之前初始化实例变量</span></span><br><span class="line">  Rect()</span><br><span class="line">      : width = <span class="number">3</span>,</span><br><span class="line">        height = <span class="number">2</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.width&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.height&#125;</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> area &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.width * <span class="keyword">this</span>.height;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Rect.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> r = Rect();</span><br><span class="line">  <span class="built_in">print</span>(r.area); <span class="comment">// 6</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类的静态变量与静态函数"><a href="#类的静态变量与静态函数" class="headerlink" title="类的静态变量与静态函数"></a>类的静态变量与静态函数</h4><p>Dart 中的静态成员:</p>
<p>1、使用 static 关键字来实现类级别的变量和函数；</p>
<p>2、静态方法不能访问非静态成员，非静态方法可以访问静态成员；</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">String</span> name = <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> showName() &#123;</span><br><span class="line">    <span class="built_in">print</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Person.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(Person.name);</span><br><span class="line">  Person.showName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="对象操作符"><a href="#对象操作符" class="headerlink" title="对象操作符"></a>对象操作符</h4><p>Dart 中的对象操作符：</p>
<ul>
<li><code>?</code> 条件运算符</li>
<li><code>as</code> 类型转换</li>
<li><code>is</code> 类型判断</li>
<li><code>..</code> 级联操作（连缀）</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> name;</span><br><span class="line">  <span class="built_in">num</span> age;</span><br><span class="line">  Person(<span class="keyword">this</span>.name, <span class="keyword">this</span>.age);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> printInfo() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Person.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  Person p = Person(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  p?.printInfo(); <span class="comment">// 张三---20</span></span><br><span class="line"></span><br><span class="line">  Person p2;</span><br><span class="line">  p2?.printInfo(); <span class="comment">// 无打印结果</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (p <span class="keyword">is</span> Person) &#123;</span><br><span class="line">    p.name = <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  p.printInfo(); <span class="comment">// 李四---20</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(p <span class="keyword">is</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> p3;</span><br><span class="line">  p3 = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  p3 = <span class="keyword">new</span> Person(<span class="string">&quot;王五&quot;</span>, <span class="number">22</span>);</span><br><span class="line">  p3.printInfo(); <span class="comment">// 王五---22</span></span><br><span class="line">  (p3 <span class="keyword">as</span> Person).printInfo(); <span class="comment">// 王五---22</span></span><br><span class="line"></span><br><span class="line">  Person p4 = <span class="keyword">new</span> Person(<span class="string">&quot;AA&quot;</span>, <span class="number">10</span>);</span><br><span class="line">  p4.printInfo(); <span class="comment">// AA---10</span></span><br><span class="line"></span><br><span class="line">  p4</span><br><span class="line">    ..name = <span class="string">&quot;BB&quot;</span></span><br><span class="line">    ..age = <span class="number">11</span></span><br><span class="line">    ..printInfo(); <span class="comment">// BB---11</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h4><blockquote>
<p>面向对象的三大特性：封装 、继承、多态</p>
</blockquote>
<p>Dart 中的类的继承：  </p>
<ul>
<li>子类使用 extends 关键词来继承父类；</li>
<li>子类会继承父类里面可见的属性和方法，但是不会继承构造函数；</li>
<li>子类能复写父类的方法；</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> name;</span><br><span class="line">  <span class="built_in">num</span> age;</span><br><span class="line">  Person(<span class="keyword">this</span>.name, <span class="keyword">this</span>.age);</span><br><span class="line">  Person.xxx(<span class="keyword">this</span>.name, <span class="keyword">this</span>.age);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> printInfo() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Person.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> sex;</span><br><span class="line">  Teacher(<span class="built_in">String</span> name, <span class="built_in">num</span> age, <span class="built_in">String</span> sex) : <span class="keyword">super</span>(name, age) &#123;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Teacher(String name, num age, String sex) : super.xxx(name, age) &#123;</span></span><br><span class="line">  <span class="comment">//   this.sex = sex;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> printInfo() &#123;</span><br><span class="line">    <span class="comment">// super.printInfo(); //自类调用父类的方法</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.sex&#125;</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  run() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>***<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>***<span class="subst">$&#123;<span class="keyword">this</span>.sex&#125;</span>&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Teacher.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  Teacher t = <span class="keyword">new</span> Teacher(<span class="string">&#x27;张三&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;男&#x27;</span>);</span><br><span class="line">  t.printInfo(); <span class="comment">// 张三---20---男</span></span><br><span class="line">  t.run(); <span class="comment">// 张三***20***男</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h4><p>Dart 抽象类主要用于定义标准，子类可以继承抽象类，也可以实现抽象类接口。</p>
<ul>
<li>抽象类通过 abstract 关键字来定义；</li>
<li>抽象方法不能用 abstract 声明，Dart 中没有方法体的方法我们称为抽象方法；</li>
<li>如果子类继承抽象类必须得实现里面的抽象方法；</li>
<li>如果把抽象类当做接口实现的话，必须得实现抽象类里面定义的所有属性和方法；</li>
<li>抽象类不能被实例化，只有继承它的子类可以；</li>
</ul>
<p><strong>extends 抽象类和 implements 的区别：</strong></p>
<ul>
<li>如果要复用抽象类里面的方法，并且要用抽象方法约束自类的话，我们就用 extends 继承抽象类；</li>
<li>如果只是把抽象类当做标准的话，我们就用 implements 实现抽象类；</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  eat(); <span class="comment">// 抽象方法</span></span><br><span class="line">  run(); <span class="comment">// 抽象方法</span></span><br><span class="line"></span><br><span class="line">  printInfo() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;我是一个抽象类里面的普通方法&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Animal.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Dog eat ...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  run() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Dog run ...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Animal.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  eat() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cat eat ...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  run() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Cat run ...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Cat.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Dog.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  Dog d = <span class="keyword">new</span> Dog();</span><br><span class="line">  d.eat(); <span class="comment">// Dog eat ...</span></span><br><span class="line">  d.printInfo(); <span class="comment">// 我是一个抽象类里面的普通方法</span></span><br><span class="line"></span><br><span class="line">  Cat c = <span class="keyword">new</span> Cat();</span><br><span class="line">  c.eat(); <span class="comment">// Cat eat ...</span></span><br><span class="line">  c.printInfo(); <span class="comment">// 我是一个抽象类里面的普通方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h4><ul>
<li>允许将子类类型的指针赋值给父类类型的指针，同一个函数调用会有不同的执行效果；</li>
<li>子类的实例赋值给父类的引用；</li>
<li>多态就是父类定义一个方法不去实现，让继承他的子类去实现，每个子类有不同的表现；</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Animal.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Cat.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Dog.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  Animal d = <span class="keyword">new</span> Dog();</span><br><span class="line">  d.eat(); <span class="comment">// Dog eat ...</span></span><br><span class="line"></span><br><span class="line">  Animal c = <span class="keyword">new</span> Cat();</span><br><span class="line">  c.eat(); <span class="comment">// Cat eat ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p>和 Java 一样，Dart 也有接口，但是和 Java 还是有区别的：</p>
<ul>
<li>Dart 的接口没有 interface 关键字定义接口，而是普通类或抽象类都可以作为接口被实现；</li>
<li>同样使用 implements 关键字进行实现；</li>
<li>Dart 的接口有点奇怪，如果实现的类是普通类，需要将普通类中抽象的属性和方法全部覆写一遍；</li>
<li>因为抽象类可以定义抽象方法，普通类不可以，所以一般如果要实现像 Java 接口那样的方式，一般会使用抽象类；</li>
<li>建议使用抽象类定义接口；</li>
</ul>
<blockquote>
<p>一个类可以实现多个接口。</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">DB</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 当做接口   接口：就是约定 、规范</span></span><br><span class="line">  <span class="built_in">String</span> uri;</span><br><span class="line">  insert(<span class="built_in">String</span> data);</span><br><span class="line">  delete(<span class="built_in">String</span> id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;DB.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySQL</span> <span class="keyword">implements</span> <span class="title">DB</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span> uri;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  insert(<span class="built_in">String</span> data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;MySQL insert&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  delete(<span class="built_in">String</span> id) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;MySQL delete&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;DB.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MsSQL</span> <span class="keyword">implements</span> <span class="title">DB</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span> uri;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  insert(<span class="built_in">String</span> data) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;MsSQL insert&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  delete(<span class="built_in">String</span> id) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;MsSQL delete&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;DB.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;MySQL.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  DB db = <span class="keyword">new</span> MySQL();</span><br><span class="line">  db.insert(<span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h3><p>mixins 的中文意思是混入，就是在类中混入其他功能。</p>
<p>在 Dart 中可以使用 mixins 实现类似<strong>多继承</strong>的功能。</p>
<p>因为 mixins 使用的条件，随着 Dart 版本一直在变，这里讲的是 Dart 2.x 中使 用 mixins 的条件：</p>
<ul>
<li>作为 mixins 的类只能继承自 Object, 不能继承其他类；</li>
<li>作为 mixins 的类不能有构造函数；</li>
<li>一个类可以 mixins 多个 mixins 类；</li>
<li>mixins 绝不是继承，也不是接口，而是一种全新的特性；</li>
</ul>
<p>mixins 的实例类型就是其超类的子类型。mixins 使用 <code>with</code> 关键字实现其功能。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> info = <span class="string">&quot;this is A&quot;</span>;</span><br><span class="line">  printA() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">  printB() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;A.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;B.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Person.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="title">with</span> <span class="title">A</span>, <span class="title">B</span> </span>&#123;</span><br><span class="line">  C(<span class="built_in">String</span> name, <span class="built_in">num</span> age) : <span class="keyword">super</span>(name, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;A.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;B.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;C.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> c = <span class="keyword">new</span> C(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  c.printA(); <span class="comment">// A</span></span><br><span class="line">  c.printB(); <span class="comment">// B</span></span><br><span class="line">  <span class="built_in">print</span>(c.info); <span class="comment">// this is A</span></span><br><span class="line">  c.printInfo(); <span class="comment">// 张三---20</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(c <span class="keyword">is</span> C); <span class="comment">// true</span></span><br><span class="line">  <span class="built_in">print</span>(c <span class="keyword">is</span> A); <span class="comment">// true</span></span><br><span class="line">  <span class="built_in">print</span>(c <span class="keyword">is</span> B); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><p>通俗理解：泛型就是解决类、接口、方法的复用性、以及对不特定数据类型的支持（类型校验）。</p>
<h4 id="泛型方法"><a href="#泛型方法" class="headerlink" title="泛型方法"></a>泛型方法</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(getData(<span class="number">1</span>)); <span class="comment">// A</span></span><br><span class="line">  <span class="built_in">print</span>(getData2(<span class="number">2</span>)); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getData&lt;T&gt;(T value) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;A&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">T getData2&lt;T&gt;(T value) &#123;</span><br><span class="line">  <span class="comment">// return &quot;A&quot;; // 错误，只能返回 T 类型</span></span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  PrintClass p = <span class="keyword">new</span> PrintClass&lt;<span class="built_in">int</span>&gt;();</span><br><span class="line">  p.add(<span class="number">1</span>);</span><br><span class="line">  p.add(<span class="number">2</span>);</span><br><span class="line">  p.add(<span class="number">3</span>);</span><br><span class="line">  <span class="comment">// p.add(&quot;A&quot;); // 报错</span></span><br><span class="line">  p.printInfo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrintClass</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">List</span> list = <span class="keyword">new</span> <span class="built_in">List</span>&lt;T&gt;();</span><br><span class="line">  <span class="keyword">void</span> add(T value) &#123;</span><br><span class="line">    <span class="keyword">this</span>.list.add(value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> printInfo() &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.list.length; i++) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="keyword">this</span>.list[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><p>需求：实现数据缓存的功能。有文件缓存和内存缓存，内存缓存和文件缓存按照接口约束实现。</p>
<ol>
<li>定义一个泛型接口，约束实现它的子类必须有 getByKey(key) 和 setByKey(key,value)；</li>
<li>要求 setByKey 的时候的 value 的类型和实例化子类的时候指定的类型一致；</li>
</ol>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  MemoryCache m = MemoryCache&lt;<span class="built_in">Map</span>&gt;();</span><br><span class="line">  m.setByKey(<span class="string">&quot;index&quot;</span>, &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;张三&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;); <span class="comment">// 我是内存缓存，把 key = index  value = &#123;name: 张三, age: 20&#125; 写入到了内存中</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, T value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MemoryCache</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  getByKey(<span class="built_in">String</span> key) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, T value) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我是内存缓存，把 key = <span class="subst">$&#123;key&#125;</span>  value = <span class="subst">$&#123;value&#125;</span> 写入到了内存中&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FileCache</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  getByKey(<span class="built_in">String</span> key) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, T value) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;我是文件缓存，把 key = <span class="subst">$&#123;key&#125;</span>  value = <span class="subst">$&#123;value&#125;</span> 写入到了文件中&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="库"><a href="#库" class="headerlink" title="库"></a>库</h3><p>在 Dart 中，库的使用是通过 <code>import</code> 关键字引入的。library 指令可以创建一个库，每个 Dart 文件都是一个库，即使没有使用 library 指令来指定。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Dart 中的库主要有三种：</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span>、我们自定义的库     </span><br><span class="line">          <span class="keyword">import</span> <span class="string">&#x27;lib/xxx.dart&#x27;</span>;</span><br><span class="line">    <span class="number">2</span>、系统内置库       </span><br><span class="line">          <span class="keyword">import</span> <span class="string">&#x27;dart:math&#x27;</span>;    </span><br><span class="line">          <span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>; </span><br><span class="line">          <span class="keyword">import</span> <span class="string">&#x27;dart:convert&#x27;</span>;</span><br><span class="line">    <span class="number">3</span>、pub 包管理系统中的库  </span><br><span class="line">        https:<span class="comment">//pub.dev/packages</span></span><br><span class="line">        https:<span class="comment">//pub.flutter-io.cn/packages</span></span><br><span class="line">        https:<span class="comment">//pub.dartlang.org/flutter/</span></span><br><span class="line"></span><br><span class="line">        <span class="number">1</span>、需要在自己项目根目录新建一个 pubspec.yaml</span><br><span class="line">        <span class="number">2</span>、在 pubspec.yaml 文件配置名称、描述、依赖等信息</span><br><span class="line">        <span class="number">3</span>、然后运行 pub <span class="keyword">get</span> 获取包下载到本地  </span><br><span class="line">        <span class="number">4</span>、项目中引入库 <span class="keyword">import</span> <span class="string">&#x27;package:http/http.dart&#x27;</span> <span class="keyword">as</span> http; 看文档使用</span><br></pre></td></tr></table></figure>

<h4 id="导入自己本地库"><a href="#导入自己本地库" class="headerlink" title="导入自己本地库"></a>导入自己本地库</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;Person.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  p.printInfo(); <span class="comment">// 张三---20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="导入系统内置库"><a href="#导入系统内置库" class="headerlink" title="导入系统内置库"></a>导入系统内置库</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:math&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(max(<span class="number">10</span>, <span class="number">20</span>)); <span class="comment">// 20</span></span><br><span class="line">  <span class="built_in">print</span>(min(<span class="number">-1</span>, <span class="number">-2</span>)); <span class="comment">// -2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="导入系统内置库实现请求数据"><a href="#导入系统内置库实现请求数据" class="headerlink" title="导入系统内置库实现请求数据"></a>导入系统内置库实现请求数据</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:convert&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="keyword">await</span> getDataFromZhihuAPI();</span><br><span class="line">  <span class="built_in">print</span>(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// api 接口： http://news-at.zhihu.com/api/3/stories/latest</span></span><br><span class="line">getDataFromZhihuAPI() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="comment">// 1、创建 HttpClient 对象</span></span><br><span class="line">  <span class="keyword">var</span> httpClient = <span class="keyword">new</span> HttpClient();</span><br><span class="line">  <span class="comment">// 2、创建 Uri 对象</span></span><br><span class="line">  <span class="keyword">var</span> uri = <span class="keyword">new</span> <span class="built_in">Uri</span>.http(<span class="string">&#x27;news-at.zhihu.com&#x27;</span>, <span class="string">&#x27;/api/3/stories/latest&#x27;</span>);</span><br><span class="line">  <span class="comment">// 3、发起请求，等待请求</span></span><br><span class="line">  <span class="keyword">var</span> request = <span class="keyword">await</span> httpClient.getUrl(uri);</span><br><span class="line">  <span class="comment">// 4、关闭请求，等待响应</span></span><br><span class="line">  <span class="keyword">var</span> response = <span class="keyword">await</span> request.close();</span><br><span class="line">  <span class="comment">// 5、解码响应的内容</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> response.transform(utf8.decoder).join();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="async-和-await"><a href="#async-和-await" class="headerlink" title="async 和 await"></a>async 和 await</h4><p>这两个关键字的使用只需要记住两点：①、只有 async 方法才能使用 await 关键字调用方法；②、如果调用别的 async 方法必须使用 await 关键字；</p>
<p>async 是让方法变成异步，await 是等待异步方法执行完成。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">main() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="keyword">await</span> testAsync();</span><br><span class="line">  <span class="built_in">print</span>(result); <span class="comment">// testAsync</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testAsync() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;testAsync&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="导入-pub-包管理系统中的库"><a href="#导入-pub-包管理系统中的库" class="headerlink" title="导入 pub 包管理系统中的库"></a>导入 pub 包管理系统中的库</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">pub 包管理系统：</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、从下面网址找到要用的库</span><br><span class="line">        https:<span class="comment">//pub.dev/packages</span></span><br><span class="line">        https:<span class="comment">//pub.flutter-io.cn/packages</span></span><br><span class="line">        https:<span class="comment">//pub.dartlang.org/flutter/</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、创建一个 pubspec.yaml 文件，内容如下</span><br><span class="line"></span><br><span class="line">    name: xxx</span><br><span class="line">    description: A <span class="keyword">new</span> flutter module project.</span><br><span class="line">    dependencies:  </span><br><span class="line">      date_format: ^<span class="number">1.0</span><span class="number">.9</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、配置 dependencies</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、运行 pub <span class="keyword">get</span> 获取远程库</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、看文档引入库使用</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:date_format/date_format.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(formatDate(<span class="built_in">DateTime</span>(<span class="number">1989</span>, <span class="number">02</span>, <span class="number">21</span>), [yyyy, <span class="string">&#x27;-&#x27;</span>, mm, <span class="string">&#x27;-&#x27;</span>, dd])); <span class="comment">// 1989-02-21</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="库重命名与冲突解决"><a href="#库重命名与冲突解决" class="headerlink" title="库重命名与冲突解决"></a>库重命名与冲突解决</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">当引入两个库中有相同名称标识符的时候，如果是 Java, 通常我们通过写上完整的包名路径来指定使用的具体标识符，甚至不用 <span class="keyword">import</span> 都可以，</span><br><span class="line">但是 Dart 里面是必须 <span class="keyword">import</span> 的。当冲突的时候，可以使用 <span class="keyword">as</span> 关键字来指定库的前缀。如下例子所示：</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib1/lib1.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib2/lib2.dart&#x27;</span> <span class="keyword">as</span> lib2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">Element</span> element1 = <span class="keyword">new</span> <span class="built_in">Element</span>();           <span class="comment">// Uses Element from lib1.</span></span><br><span class="line">lib2.<span class="built_in">Element</span> element2 = <span class="keyword">new</span> lib2.<span class="built_in">Element</span>(); <span class="comment">// Uses Element from lib2.</span></span><br></pre></td></tr></table></figure>

<h4 id="部分导入"><a href="#部分导入" class="headerlink" title="部分导入"></a>部分导入</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">如果只需要导入库的一部分，有两种模式：</span><br><span class="line"></span><br><span class="line">模式一：只导入需要的部分，使用 <span class="keyword">show</span> 关键字，如下例子所示：</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib1/lib1.dart&#x27;</span> <span class="keyword">show</span> foo;</span><br><span class="line"></span><br><span class="line">模式二：隐藏不需要的部分，使用 <span class="keyword">hide</span> 关键字，如下例子所示：</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:lib2/lib2.dart&#x27;</span> <span class="keyword">hide</span> foo;    </span><br></pre></td></tr></table></figure>

<p>MyMath.dart</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getOne() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;one&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getTwo() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;two&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;MyMath.dart&#x27;</span> <span class="keyword">show</span> getOne;</span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(getOne());</span><br><span class="line">  <span class="comment">// print(getTwo()); // 报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="延迟加载"><a href="#延迟加载" class="headerlink" title="延迟加载"></a>延迟加载</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">延迟加载也称为懒加载，可以在需要的时候再进行加载。</span><br><span class="line">懒加载的最大好处是可以减少 APP 的启动时间。</span><br><span class="line"></span><br><span class="line">懒加载使用 <span class="keyword">deferred</span> <span class="keyword">as</span> 关键字来指定，如下例子所示：</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:deferred/hello.dart&#x27;</span> <span class="keyword">deferred</span> <span class="keyword">as</span> hello;</span><br><span class="line"></span><br><span class="line">当需要使用的时候，需要使用 loadLibrary() 方法来加载：</span><br><span class="line"></span><br><span class="line">greet() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> hello.loadLibrary();</span><br><span class="line">    hello.printGreeting();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-13-之后的一些新特性"><a href="#2-13-之后的一些新特性" class="headerlink" title="2.13 之后的一些新特性"></a>2.13 之后的一些新特性</h3><h4 id="Null-safety"><a href="#Null-safety" class="headerlink" title="Null safety"></a>Null safety</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  Null safety 翻译成中文的意思是空安全。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"></span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  null safety 可以帮助开发者避免一些日常开发中很难被发现的错误，并且额外的好处是可以改善性能。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"></span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  Flutter2.2.0（2021 年 5 月 19 日发布）之后的版本都要求使用 null safety。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"></span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  1、? 可空类型</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  2、! 类型断言</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="emphasis">*/</span></span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String?</span> getData(apiUrl) &#123;</span><br><span class="line">  <span class="keyword">if</span> (apiUrl != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;this is server data&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> printLength(<span class="built_in">String?</span> str) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(str!.length);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;str is null&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// 1、? 可空类型</span></span><br><span class="line">  <span class="built_in">String?</span> str = <span class="string">&quot;abc&quot;</span>; <span class="comment">// String?  表示 str 是一个可空类型</span></span><br><span class="line">  str = <span class="keyword">null</span>; <span class="comment">// 允许设置为 null</span></span><br><span class="line">  <span class="built_in">print</span>(str);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(getData(<span class="string">&quot;http://www.baidu.com&quot;</span>));</span><br><span class="line">  <span class="built_in">print</span>(getData(<span class="keyword">null</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2、! 类型断言</span></span><br><span class="line">  <span class="built_in">String?</span> str2 = <span class="string">&quot;this is str&quot;</span>;</span><br><span class="line">  <span class="comment">// str2 = null;</span></span><br><span class="line">  <span class="comment">// 如果 str2 不等于 null 会打印 str2 的长度，如果等于 null 会抛出异常</span></span><br><span class="line">  <span class="built_in">print</span>(str2!.length);</span><br><span class="line"></span><br><span class="line">  printLength(<span class="string">&quot;str&quot;</span>);</span><br><span class="line">  printLength(<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="late-关键字"><a href="#late-关键字" class="headerlink" title="late 关键字"></a>late 关键字</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> late 关键字主要用于延迟初始化。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> <span class="built_in">String</span> name;</span><br><span class="line">  <span class="keyword">late</span> <span class="built_in">int</span> age;</span><br><span class="line">  <span class="keyword">void</span> setInfo(<span class="built_in">String</span> name, <span class="built_in">int</span> age) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> getInfo() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main(args) &#123;</span><br><span class="line">  Person p = <span class="keyword">new</span> Person();</span><br><span class="line">  p.setInfo(<span class="string">&quot;张三&quot;</span>, <span class="number">20</span>);</span><br><span class="line">  <span class="built_in">print</span>(p.getInfo());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="required-关键字"><a href="#required-关键字" class="headerlink" title="required 关键字"></a>required 关键字</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> required 翻译成中文的意思是需要、依赖</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> </span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> * 最开始 @required 是注解，现在它已经作为内置修饰符，主要用于允许根据需要标记任何命名参数（函数或类），</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> 使得它们不为空。因为可选参数中必须有个 required 参数或者该参数有个默认值。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"><span class="built_in">String</span> printInfo(<span class="built_in">String</span> username, &#123;<span class="built_in">int</span> age = <span class="number">10</span>, <span class="built_in">String</span> sex = <span class="string">&quot;男&quot;</span>&#125;) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;姓名:<span class="subst">$username</span>---性别:<span class="subst">$sex</span>--年龄:<span class="subst">$age</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span> printInfo2(<span class="built_in">String</span> username, &#123;<span class="keyword">required</span> <span class="built_in">int</span> age, <span class="keyword">required</span> <span class="built_in">String</span> sex&#125;) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;姓名:<span class="subst">$username</span>---性别:<span class="subst">$sex</span>--年龄:<span class="subst">$age</span>&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main(args) &#123;</span><br><span class="line">  <span class="built_in">print</span>(printInfo(<span class="string">&#x27;张三&#x27;</span>));</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(printInfo(<span class="string">&#x27;张三&#x27;</span>, age: <span class="number">20</span>, sex: <span class="string">&quot;女&quot;</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// age 和 sex 必须传入</span></span><br><span class="line">  <span class="built_in">print</span>(printInfo2(<span class="string">&#x27;张三&#x27;</span>, age: <span class="number">22</span>, sex: <span class="string">&quot;女&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="bullet"> *</span> name 可以传入也可以不传入，age 必须传入</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String?</span> name; <span class="comment">// 可空属性</span></span><br><span class="line">  <span class="built_in">int</span> age;</span><br><span class="line">  Person(&#123;<span class="keyword">this</span>.name, <span class="keyword">required</span> <span class="keyword">this</span>.age&#125;); <span class="comment">// age 必须传入</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> getInfo() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>---<span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span>&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main(args) &#123;</span><br><span class="line">  Person p = <span class="keyword">new</span> Person(name: <span class="string">&quot;张三&quot;</span>, age: <span class="number">20</span>);</span><br><span class="line">  <span class="built_in">print</span>(p.getInfo()); <span class="comment">// 张三---20</span></span><br><span class="line"></span><br><span class="line">  Person p1 = <span class="keyword">new</span> Person(age: <span class="number">20</span>);</span><br><span class="line">  <span class="built_in">print</span>(p1.getInfo()); <span class="comment">// null---20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><h4 id="回顾-Dart-常量"><a href="#回顾-Dart-常量" class="headerlink" title="回顾 Dart 常量"></a>回顾 Dart 常量</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">Dart 常量: final 和 const 修饰符。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  1、const 声明的常量是在编译时确定的，永远不会改变；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  2、final 声明的常量允许声明后再赋值，赋值后不可改变，final 声明的变量是在运行时确定的；</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">  3、final 不仅有 const 的编译时常量的特性，最重要的它是运行时常量，并且 final 是惰性初始化，即在运行时第一次使用前才初始化。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"><span class="emphasis">*/</span></span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// const 常量</span></span><br><span class="line">  <span class="comment">// const PI = 3.14;</span></span><br><span class="line">  <span class="comment">// PI = 3.14159; // const 定义的常量没法改变</span></span><br><span class="line">  <span class="comment">// print(PI);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// final 常量</span></span><br><span class="line">  <span class="comment">// final PI = 3.14;</span></span><br><span class="line">  <span class="comment">// print(PI);</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> a;</span><br><span class="line">  a = <span class="number">13</span>;</span><br><span class="line">  <span class="comment">// a = 14;</span></span><br><span class="line">  <span class="built_in">print</span>(a);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> d = <span class="keyword">new</span> <span class="built_in">DateTime</span>.now();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="const、identical-函数"><a href="#const、identical-函数" class="headerlink" title="const、identical 函数"></a>const、identical 函数</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="language-markdown">/**</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> dart:core 库中 identical 函数的用法介绍如下：</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"></span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">用法:</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">bool identical(</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   Object? a,    </span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">   Object? b   </span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">)</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment">检查两个引用是否指向同一个对象。</span></span></span><br><span class="line"><span class="language-markdown"><span class="comment"> <span class="emphasis">*/</span></span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// var o1 = new Object();</span></span><br><span class="line">  <span class="comment">// var o2 = new Object();</span></span><br><span class="line">  <span class="comment">// print(identical(o1, o2)); // false，不共享存储空间</span></span><br><span class="line">  <span class="comment">// print(identical(o1, o1)); // true，共享存储空间</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// var o1 = Object();</span></span><br><span class="line">  <span class="comment">// var o2 = Object();</span></span><br><span class="line">  <span class="comment">// print(identical(o1, o2)); // false</span></span><br><span class="line">  <span class="comment">// print(identical(o1, o1)); // true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 表示实例化常量构造函数</span></span><br><span class="line">  <span class="comment">// o1 和 o2 共享了存储空间</span></span><br><span class="line">  <span class="comment">// var o1 = const Object();</span></span><br><span class="line">  <span class="comment">// var o2 = const Object();</span></span><br><span class="line">  <span class="comment">// print(identical(o1, o2)); // true，共享存储空间</span></span><br><span class="line">  <span class="comment">// print(identical(o1, o1)); // true，共享存储空间</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// print(identical([2], [2])); // false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// var a = [2];</span></span><br><span class="line">  <span class="comment">// var b = [2];</span></span><br><span class="line">  <span class="comment">// print(identical(a, b)); // false，不共享存储空间</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> c = [<span class="number">2</span>];</span><br><span class="line">  <span class="keyword">const</span> d = [<span class="number">3</span>];</span><br><span class="line">  <span class="built_in">print</span>(identical(c, d)); <span class="comment">// false，不共享存储空间</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发现：const 关键词在多个地方创建相同的对象的时候，内存中只保留了一个对象。</span></span><br><span class="line">  <span class="comment">// 共享存储空间条件：1、常量   2、值相等。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="普通构造函数"><a href="#普通构造函数" class="headerlink" title="普通构造函数"></a>普通构造函数</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> width;</span><br><span class="line">  <span class="built_in">int</span> height;</span><br><span class="line">  Container(&#123;<span class="keyword">required</span> <span class="keyword">this</span>.width, <span class="keyword">required</span> <span class="keyword">this</span>.height&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> c1 = <span class="keyword">new</span> Container(width: <span class="number">100</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="keyword">var</span> c2 = <span class="keyword">new</span> Container(width: <span class="number">100</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="built_in">print</span>(identical(c1, c2)); <span class="comment">// false，c1 和 c2 在内存中存储了 2 份</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="常量构造函数"><a href="#常量构造函数" class="headerlink" title="常量构造函数"></a>常量构造函数</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">常量构造函数总结如下几点：</span></span><br><span class="line"><span class="comment">  1、常量构造函数需以 const 关键字修饰；</span></span><br><span class="line"><span class="comment">  2、const 构造函数必须用于成员变量都是 final 的类；</span></span><br><span class="line"><span class="comment">  3、如果实例化时不加 const 修饰符，即使调用的是常量构造函数，实例化的对象也不是常量实例；</span></span><br><span class="line"><span class="comment">  4、实例化常量构造函数的时候，多个地方创建这个对象，如果传入的值相同，只会保留一个对象；</span></span><br><span class="line"><span class="comment">  5、Flutter 中 const 修饰不仅仅是节省组件构建时的内存开销，Flutter 在需要重新构建组件的时候，由于这个组件是不应该改变的，重新构建没有任何意义，因此 Flutter 不会重新构建 const 组件。 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 常量构造函数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> width;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> height;</span><br><span class="line">  <span class="keyword">const</span> Container(&#123;<span class="keyword">required</span> <span class="keyword">this</span>.width, <span class="keyword">required</span> <span class="keyword">this</span>.height&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="keyword">var</span> c1 = Container(width: <span class="number">100</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="keyword">var</span> c2 = Container(width: <span class="number">100</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="built_in">print</span>(identical(c1, c2)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> c3 = <span class="keyword">const</span> Container(width: <span class="number">100</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="keyword">var</span> c4 = <span class="keyword">const</span> Container(width: <span class="number">100</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="built_in">print</span>(identical(c3, c4)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> c5 = <span class="keyword">const</span> Container(width: <span class="number">100</span>, height: <span class="number">110</span>);</span><br><span class="line">  <span class="keyword">var</span> c6 = <span class="keyword">const</span> Container(width: <span class="number">120</span>, height: <span class="number">100</span>);</span><br><span class="line">  <span class="built_in">print</span>(identical(c5, c6)); <span class="comment">// false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 实例化常量构造函数的时候，多个地方创建这个对象，如果传入的值相同，只会保留一个对象。</span></span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>明年今日
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://zhich.github.io/2020/12/30/Dart-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Dart 学习笔记">https://zhich.github.io/2020/12/30/Dart-学习笔记/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/Dart/" rel="tag"><i class="fa fa-tag"></i> Dart</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/04/12/Android-Jetpack-%E4%B9%8B-WorkManager/" rel="prev" title="Android Jetpack 之 WorkManager">
                  <i class="fa fa-angle-left"></i> Android Jetpack 之 WorkManager
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/04/26/Kotlin-%E6%95%99%E7%A8%8B/" rel="next" title="Kotlin 教程">
                  Kotlin 教程 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2016 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Copyright © 明年今日。 All Rights Reserved.</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZw==">NexT.Gemini</span> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL3poaWNo" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>



  <script src="/js/third-party/pace.js"></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://zhich.github.io/2020/12/30/Dart-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}</script>
  <script src="/js/third-party/quicklink.js"></script>

</body>
</html>
